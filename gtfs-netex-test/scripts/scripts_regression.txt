[
  {
    "block": "blablacar",
    "url":"https://transport.data.gouv.fr/datasets/blablacar-bus-horaires-theoriques-et-temps-reel-du-reseau-europeen",
    "description":"Blablacar data",
    "scripts": [
        {"script": "clean_tmp", "args": "%%dir%%"},
        {"script": "gtfs_import_to_db.py", "args": "%%inputdir%%/blablacar.zip %%dir%%/gtfs-import.duckdb"},
        {"script": "gtfs_convert_to_db.py", "args": "%%dir%%/gtfs-import.duckdb %%dir%%/netex-import.duckdb"},
        {"script": "epip_db_to_db.py", "args": "%%dir%%/netex-import.duckdb %%dir%%/netex-database.duckdb"},
        {"script": "epip_db_to_xml.py", "args": "%%dir%%/netex-import.duckdb %%dir%%/netex-database.duckdb %%dir%%/%%block%%-netex.xml"},
        {"script": "tool_netex_check_assertions.py", "args": "./aux_test_input/blablacar-assertions.txt %%dir%%/%%block%%-netex.xml"},
        {"script": "tool_netex_stats.py", "args": "%%dir%%/%%block%%-netex.xml"},
        {"script": "netex_to_db.py", "args": "[%%dir%%/%%block%%-netex.xml] %%dir%%/netex3-database.duckdb True"},
        {"script": "gtfs_db_to_db.py", "args": "%%dir%%/netex3-database.duckdb %%dir%%/netex4-database.duckdb"},
        {"script": "netex_db_to_gtfs.py", "args": "%%dir%%/netex4-database.duckdb %%dir%%/%%block%%-gtfs.zip %%log%%"},
        {"script": "tool_simple_gtfs_validator.py", "args": "%%dir%%/%%block%%-gtfs.zip"},
        {"script": "gtfs_show_map.py", "args": "%%dir%%/%%block%%-gtfs.zip %%dir%%/%%block%%-map.html 10 %%log%%"}
        ]
  },

{
    "block": "swissmikro",
    "scripts": [
        {"script": "clean_tmp", "args": "%%dir%%"},
        {"script": "gtfs_import_to_db.py", "args": "%%inputdir%%/swiss_mikro.zip %%dir%%/gtfs-import.duckdb"},
        {"script": "gtfs_convert_to_db.py", "args": "%%dir%%/gtfs-import.duckdb %%dir%%/netex-import.duckdb"},
        {"script": "epip_db_to_db.py", "args": "%%dir%%/netex-import.duckdb %%dir%%/netex-database.duckdb"},
        {"script": "epip_db_to_xml.py", "args": "%%dir%%/netex-import.duckdb %%dir%%/netex-database.duckdb %%dir%%/%%block%%-netex.xml"},
        {"script": "netex_to_db.py", "args": "[%%dir%%/%%block%%-netex.xml] %%dir%%/netex2-database.duckdb True"},
        {"script": "gtfs_db_to_db.py", "args": "%%dir%%/netex2-database.duckdb %%dir%%/%%block%%-gtfs-out.duckdb"},
        {"script": "gtfs_db_to_gtfs.py", "args": "%%dir%%/%%block%%-gtfs-out.duckdb %%dir%%/%%block%%-gtfs.zip"},
        {"script": "gtfs_db_to_gtfs.py", "args": "%%dir%%/%%block%%-gtfs-out.duckdb %%dir%%/%%block%%-gtfs.zip"},
        {"script": "tool_netex_stats.py", "args": "%%dir%%/%%block%%-netex.xml"},
        {"script": "related_explorer.py", "args": "%%dir%%/netex2-database.duckdb ServiceJourney random %%dir%%/sj.xml False"},
        {"script": "related_explorer.py", "args": "%%dir%%/netex2-database.duckdb Line random %%dir%%/line.xml False"}

        ]
  },
  {
    "block": "flixbus",
    "scripts": [
        {"script": "clean_tmp", "args": "%%dir%%"},
        {"script": "gtfs_import_to_db.py", "args": "%%inputdir%%/flixbus.zip %%dir%%/gtfs-import.duckdb"},
        {"script": "gtfs_convert_to_db.py", "args": "%%dir%%/gtfs-import.duckdb %%dir%%/netex-import.duckdb"},
        {"script": "epip_db_to_db.py", "args": "%%dir%%/netex-import.duckdb %%dir%%/netex-database.duckdb"},
        {"script": "epip_db_to_xml.py", "args": "%%dir%%/netex-import.duckdb %%dir%%/netex-database.duckdb %%dir%%/%%block%%-netex.xml"},
        {"script": "tool_netex_check_assertions.py", "args": "./aux_test_input/flixbus-assertions.txt %%dir%%/%%block%%-netex.xml"},
        {"script": "tool_netex_stats.py", "args": "%%dir%%/%%block%%-netex.xml %%log%%"},
        {"script": "netex_to_db.py", "args": "[%%dir%%/%%block%%-netex.xml] %%dir%%/netex3-database.duckdb True"},
        {"script": "gtfs_db_to_db.py", "args": "%%dir%%/netex3-database.duckdb %%dir%%/netex4-database.duckdb"},
        {"script": "gtfs_db_to_gtfs.py", "args": "%%dir%%/netex4-database.duckdb %%dir%%/%%block%%-gtfs.zip"},
        {"script": "tool_simple_gtfs_validator.py", "args": "%%dir%%/%%block%%-gtfs.zip"},
        {"script": "#gtfs_show_map.py", "args": "--log=%%log%% --limitation 10 %%dir%%/%%block%%-gtfs.zip %%dir%%/%%block%%-map.html"}
        ]
  },

       {
    "block": "swiss4",
    "scripts": [
        {"script": "clean_tmp", "args": "%%dir%%"},
        {"script": "set_defaults", "args": "authority='SKI+'; time_zone='Europe/Berlin'; feed_publisher_name='SBB SKI+'; feed_publisher_url='https://opentransportdata.swiss'"},
        {"script": "swiss_to_db.py", "args": "%%inputdir%%/swiss4.zip %%dir%%/swiss-import.duckdb True True"},
        {"script": "epip_db_to_db.py", "args": "%%dir%%/swiss-import.duckdb %%dir%%/netex-database.duckdb"},
        {"script": "epip_db_to_xml.py", "args": "%%dir%%/swiss-import.duckdb %%dir%%/netex-database.duckdb %%dir%%/%%block%%-netex.xml"},
        {"script": "tool_netex_check_assertions.py", "args": "./aux_test_input/swiss-assertions.txt %%dir%%/%%block%%-netex.xml"},
        {"script": "tool_netex_stats.py", "args": "%%dir%%/%%block%%-netex.xml"},
        {"script": "tool_xml_validator.py", "args": "--log=%%log%%  %%dir%%/%%block%%-netex.xml C:/Users/ue71603/MG_Daten/github/NeTEx1/xsd/netex_publication.xsd"},
        {"script": "netex_to_db.py", "args": "[%%dir%%/%%block%%-netex.xml] %%dir%%/netex2-database.duckdb"},
        {"script": "netex_db_to_gtfs.py", "args": "%%dir%%/netex2-database.duckdb %%dir%%/%%block%%-gtfs.zip %%log%%"},
        {"script": "tool_simple_gtfs_validator.py", "args": "%%dir%%/%%block%%-gtfs.zip"},
        {"script": "gtfs_show_map.py", "args": "%%dir%%/%%block%%-gtfs.zip %%dir%%/%%block%%-map.html 10 %%log%%"},
        {"script": "related_explorer.py", "args": "%%dir%%/netex2-database.duckdb Line random %%dir%%/line.xml True"},
        {"script": "related_explorer.py", "args": "%%dir%%/netex2-database.duckdb ServiceJourney random %%dir%%/sj.xml True"},
        {"script": "related_explorer.py", "args": "%%dir%%/swiss-import.duckdb ServiceJourney random %%dir%%/sj1.xml True"},
        {"script": "related_explorer.py", "args": "%%dir%%/netex-database.duckdb ServiceJourney random %%dir%%/sj2.xml True"}
        ]
  },
       {
    "block": "nl1",
    "scripts": [
        {"script": "clean_tmp", "args": "%%dir%%"},
        {"script": "netex_to_db.py", "args": "[%%inputdir%%/NeTEx_WPD_WPD_20241112_20241112.xml.gz] %%dir%%/nl-import.duckdb True"},
        {"script": "epip_db_to_db.py", "args": "%%dir%%/nl-import.duckdb %%dir%%/netex-database.duckdb"},
        {"script": "epip_db_to_xml.py", "args": "%%dir%%/nl-import.duckdb %%dir%%/netex-database.duckdb %%dir%%/%%block%%-wpd-netex.xml"},
        {"script": "netex_to_db.py", "args": "[%%dir%%/%%block%%-wpd-netex.xml] %%dir%%/nl-gtfs.duckdb True"},
        {"script": "gtfs_db_to_db.py", "args": "%%dir%%/nl-gtfs.duckdb %%dir%%/nl2-gtfs.duckdb"},
        {"script": "gtfs_db_to_gtfs.py", "args": "%%dir%%/nl2-gtfs.duckdb %%dir%%/%%block%%-wpd-gtfs.zip"},
        {"script": "tool_check_db.py", "args": "%%dir%%/nl-import.duckdb"},
        {"script": "#tool_check_db.py", "args": "%%dir%%/netex-database.duckdb"},
        {"script": "#tool_check_db.py", "args": "%%dir%%/nl-gtfs.duckdb"}
         ]
  },
       {
    "block": "nl2",
    "scripts": [
        {"script": "clean_tmp", "args": "%%dir%%"},
        {"script": "netex_to_db.py", "args": "%%inputdir%%/NeTEx_TESO_TESO_20241112_20241112.xml.gz %%dir%%/nl-import.duckdb True"},
        {"script": "epip_db_to_db.py", "args": "%%dir%%/nl-import.duckdb %%dir%%/netex-database.duckdb"},
        {"script": "epip_db_to_xml.py", "args": "%%dir%%/nl-import.duckdb %%dir%%/netex-database.duckdb %%dir%%/%%block%%-teso-netex.xml"},
        {"script": "netex_to_db.py", "args": "[%%dir%%/%%block%%-teso-netex.xml] %%dir%%/nl-gtfs.duckdb True"},
        {"script": "gtfs_db_to_db.py", "args": "%%dir%%/nl-gtfs.duckdb %%dir%%/nl2-gtfs.duckdb"},
        {"script": "gtfs_db_to_gtfs.py", "args": "%%dir%%/nl2-gtfs.duckdb %%dir%%/nl2-gtfs-teso.zip"},
        {"script": "clean_tmp", "args": "%%dir%%"},
        {"script": "netex_to_db.py", "args": "[%%inputdir%%/NeTEx_WSF_WSF_20241112_20241112.xml.gz] %%dir%%/nl-import.duckdb True"},
        {"script": "epip_db_to_db.py", "args": "%%dir%%/nl-import.duckdb %%dir%%/netex-database.duckdb"},
        {"script": "epip_db_to_xml.py", "args": "%%dir%%/nl-import.duckdb %%dir%%/netex-database.duckdb %%dir%%/%%block%%-wsf1-netex.xml"},
        {"script": "netex_to_db.py", "args": "[%%dir%%/%%block%%-wsf1-netex.xml] %%dir%%/nl-gtfs.duckdb True"},
        {"script": "gtfs_db_to_db.py", "args": "%%dir%%/nl-gtfs.duckdb %%dir%%/nl2-gtfs.duckdb"},
        {"script": "gtfs_db_to_gtfs.py", "args": "%%dir%%/nl2-gtfs.duckdb %%dir%%/%%block%%-wsf1-gtfs.zip"},
        {"script": "clean_tmp", "args": "%%dir%%"},
        {"script": "netex_to_db.py", "args": "[%%inputdi%r%/NeTEx_WSF_WSF_20241203_20241203.xml.gz] %%dir%%/nl-import.duckdb True"},
        {"script": "epip_db_to_db.py", "args": "%%dir%%/nl-import.duckdb %%dir%%/netex-database.duckdb"},
        {"script": "epip_db_to_xml.py", "args": "%%dir%%/nl-import.duckdb %%dir%%/netex-database.duckdb %%dir%%/%%block%%-wsf2-netex.xml"},
        {"script": "netex_to_db.py", "args": "[%%dir%%/%%block%%-wsf2-netex.xml] %%dir%%/nl-gtfs.duckdb True"},
        {"script": "gtfs_db_to_db.py", "args": "%%dir%%/nl-gtfs.duckdb %%dir%%/nl2-gtfs.duckdb"},
        {"script": "gtfs_db_to_gtfs.py", "args": "%%dir%%/nl2-gtfs.duckdb %%dir%%/%%block%%-wsf2-gtfs.zip"}
         ]
  },
  {
    "block": "logtest",
    "scripts": [
        {"script": "clean_tmp", "args": "%%dir%%"},
        {"script": "tool_test_logger.py", "args": "%%log%%"}
        ]
  }
]
